// For license information, see `https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/f8134a6f2b7d/RCd4dee0bda4814065937fd3fd41d46a81-file.js`.
"use strict";(()=>{function e(e){try{const t=new URL(e);t.search="",t.hash="";const n=["/video/","/search/","/gallery/","/projects/"];let o=t.pathname;for(const e of n){const t=o.indexOf(e);if(-1!==t){o=o.substring(0,t+e.length);break}}return t.pathname=o,t.toString()}catch{return""}}async function t(){const e=navigator.userAgentData;if(!e)return{};try{const t=await e.getHighEntropyValues(["architecture","bitness","model","platformVersion","wow64"]);return{platform:e.platform,mobile:e.mobile,architecture:t.architecture,bitness:t.bitness,model:t.model,platformVersion:t.platformVersion,wow64:t.wow64}}catch{return{}}}function n(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():o()}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function i(e){const t=new Uint8Array(16);let n=0,o=0;for(;n<e.length&&o<16;){if("-"===e[n]){n++;continue}if(n+1>=e.length)break;const i=e.slice(n,n+2),r=Number.parseInt(i,16);Number.isNaN(r)||(t[o]=r,o++),n+=2}return t}function r(e){const t=i(e);let n=0n,o=0n;for(let e=0;e<t.length;e++)e<8?n=(n<<8n)+BigInt(t[e]):o=(o<<8n)+BigInt(t[e]);const r=9223372036854775807n;n>r&&(n-=2n**64n),o>r&&(o-=2n**64n),n<0n&&(n=-n),o<0n&&(o=-o);return n.toString().padStart(19,"0").slice(-19)+o.toString().padStart(19,"0").slice(-19)}function a(){const e="gsdk:ecid";try{if("undefined"!=typeof window&&window.localStorage){const t=window.localStorage.getItem(e);if(t&&38===t.length&&/^\d{38}$/.test(t))return t}}catch(e){}try{const t=r(n());try{"undefined"!=typeof window&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){}return t}catch(e){return`${Date.now().toString()}${Math.random().toString().substring(2)}00000000000000000000`.substring(0,38)}}function s(){const e=navigator.userAgent;let t="Unknown",n="",o="";if(k.platform)if(t=k.platform,n=k.platformVersion||"","Windows"===k.platform){if(o="Microsoft",k.platformVersion){n=Number.parseInt(k.platformVersion.split(".")[0])>=13?"11":"10"}}else"macOS"===k.platform?(o="Apple",t="MacOS",k.platformVersion&&(n=k.platformVersion)):"Linux"===k.platform?o="Linux":"Android"===k.platform?o="Google":"iOS"===k.platform&&(o="Apple");else if(/iPhone|iPad|iPod/.test(e)){t="iOS",o="Apple";const i=e.match(/OS (\d+_\d+_?\d*)/);i&&(n=i[1].replace(/_/g,"."))}else if(e.includes("Android")){t="Android",o="Google";const i=e.match(/Android (\d+\.?\d*\.?\d*)/);i&&(n=i[1])}else if(e.includes("Mac OS X")||e.includes("Macintosh")){t="MacOS",o="Apple";const i=e.match(/Mac OS X ([0-9_]+)/);if(i){const e=i[1].replace(/_/g,".");e.startsWith("10.15")||(n=e)}}else e.includes("Windows")?(t="Windows",o="Microsoft",e.includes("Windows NT 10.0")?n=e.includes("Windows 11")?"11":"10":e.includes("Windows NT 6.3")?n="8.1":e.includes("Windows NT 6.1")&&(n="7")):e.includes("Linux")&&(t="Linux",o="Linux");return{operatingSystem:t,operatingSystemVersion:n||void 0,operatingSystemVendor:o}}function c(e){for(const[t,n]of Object.entries(W))if(e===t||e.endsWith(`.${t}`))return n}function d(){const e=window._satellite,t=e?.getVar?.("cmp.state"),n=e?.getVar?.("consent"),o=n?.c;return"post"!==t||e?.cookie?.get?.("OptanonConsent")?{configuration:{performance:!!o?.("C0002"),functional:!!o?.("C0003"),advertising:!!o?.("C0004")}}:{configuration:{performance:!0,functional:!0,advertising:!0}}}function l(){return U?Promise.resolve(U):Promise.resolve().then((()=>new Promise((e=>{if(window.adobeIMS?.isSignedInUser&&window.adobeIMS?.getProfile)U=window.adobeIMS,e(U);else{const t=setTimeout((()=>{window.adobeIMS?.isSignedInUser&&window.adobeIMS?.getProfile?(U=window.adobeIMS,e(U)):e(void 0)}),M);window.addEventListener("onImsLibInstance",(n=>{clearTimeout(t);U=n.detail.instance,e(U)}),{once:!0})}}))))}function u(e,t=1e4){return new Promise(((n,o)=>{function i(){const a=window[e];void 0===a?Date.now()-r>=t?o(new Error(`Timeout waiting for window.${e}`)):setTimeout(i,200):n(a)}const r=Date.now();T(i,"check"),i()}))}function m(){u("alloy_getIdentity",M).then((e=>e)).then((e=>{e?.identity?.ECID&&(O._adobe_corpnew.event.identifiers.ECID=e.identity.ECID,O.identityMap.ECID[0].id=e.identity.ECID)})).catch((()=>{}))}function g(){return l().then((e=>{if(e&&(O._adobe_corpnew.user.authenticationStatus=!0===e.isSignedInUser()?"Signed In":"Signed Out",e.isSignedInUser()))return e.getProfile()})).then((e=>{e?.userId&&(O._adobe_corpnew.user.userId=e.userId,O._adobe_corpnew.event.identifiers.userGUID=e.userId,O.identityMap.adobeGUID=[{id:e.userId,primary:!0,authenticatedState:"authenticated"}],O.identityMap.ECID[0].primary=!1),e?.account_type&&(O._adobe_corpnew.user.userAccountType=e.account_type)})).catch((()=>{}))}function p(){u("alloy_all",M).then((t=>{if(t){const n=t.data;n.URL&&(O.web.webPageDetails.URL=e(n.URL)),n.server&&(O.web.webPageDetails.server=n.server)}})).catch((()=>{}))}function b(){return{implementationDetails:{environment:"browser",name:"https://ns.adobe.com/gsdk/browser",version:"1.5.0"},environment:{browserDetails:{userAgent:navigator.userAgent,cookiesEnabled:navigator.cookieEnabled,thirdPartyCookiesEnabled:void 0,userAgentClientHints:{},...s()}},web:{webPageDetails:{server:window.location.hostname,URL:e(window.location.href??window.location.toString())}},application:{_dc:{language:navigator.language??navigator.languages?.[0]},name:""},_adobe_corpnew:{user:{userAccountType:void 0,authenticationStatus:void 0,userId:void 0},event:{identifiers:{}},otherConsents:{...d()}},eventType:"mau.exposed",timestamp:(new Date).toISOString(),identityMap:{ECID:[{id:"",primary:!0}]}}}function f(){O=b(),U=void 0,L=g(),document.hasStorageAccess?.()?.then?.((e=>{O.environment.browserDetails.thirdPartyCookiesEnabled=e}))?.catch?.((()=>{})),t()?.then?.((e=>{Object.assign(O.environment.browserDetails.userAgentClientHints,e)}))?.catch?.((()=>{})),m(),p()}function w(){if(O||(O=b()),!O._adobe_corpnew.event.identifiers.ECID||""===O._adobe_corpnew.event.identifiers.ECID){const e=a();O._adobe_corpnew.event.identifiers.ECID=e,O.identityMap.ECID[0].id=e}return O.application.name=c(window.location.hostname)??window.location.hostname,Object.assign(O._adobe_corpnew.otherConsents,d()),O.timestamp=(new Date).toISOString(),O}function h(){const e=s();return"MacOS"===e.operatingSystem||"iOS"===e.operatingSystem?{project:"gesdk-ps-mac-service",apiKey:"gesdk-ps-mac-service"}:{project:"gesdk-ps-win-service",apiKey:"gesdk-ps-win-service"}}function v(e){const t=e._adobe_corpnew.otherConsents.configuration;return!0===t.performance&&!0===t.functional}function y(t,n,o){const{project:i}=h(),r=t,a=r.timestamp,s=o,c=r._adobe_corpnew.event.identifiers.ECID||r.identityMap.ECID[0]?.id||"",d=r._adobe_corpnew.user.userId,l=r.environment.browserDetails.userAgent,u=r.application._dc.language?.replace("-","_")||"en_US",m=e(r.web.webPageDetails.URL),g=r.environment.browserDetails.operatingSystem||"unknown",p=r.environment.browserDetails.operatingSystemVersion||"unknown",b="desktop",f={"event.guid":s,"event.type":n.success?"success":"error","event.url":m,"event.referrer":document.referrer,"event.category":"WEB","event.workflow":"Debug","event.mcid_guid":c,"event.visitor_guid":c,"event.user_agent":l,"event.language":u,"event.subcategory":"mau","event.subtype":"api","source.platform":g,"source.os_version":p,"source.device":b,"env.com.name":"GESDK","event.dts_end":a};d&&(f["event.user_guid"]=d);const w=window?.adobeid?.client_id;return w&&(f["source.client_id"]=w),!n.success&&n.error&&(f["event.error_code"]=n.error.code,f["event.error_type"]=n.error.type,f["event.error_description"]=n.error.description),{events:[{time:a,project:i,environment:"prod",ingesttype:"dunamis",data:f}]}}async function S(e,t,n){if(!n.success&&v(e))try{const o=y(e,n,t),{apiKey:i}=h();(await fetch("https://cc-api-data.adobe.io/ingest",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":i,"X-Request-Id":t},body:JSON.stringify(o),keepalive:!0})).ok}catch(e){}}function I(){return window._satellite?.environment?.stage&&"production"!==window._satellite?.environment?.stage?"8be96822-e922-4685-a86a-dd0da15f279a":"c2ddbb32-4279-46db-8240-390fba13feeb"}function _(e,t,n){return{success:!1,error:{code:e,type:t,description:n}}}async function x(e,t,n,o){const i="collect"===e?JSON.stringify({events:[{xdm:t}],meta:{state:{cookiesEnabled:!1}}}):JSON.stringify({event:{xdm:t}});try{const t=await fetch(`https://www.adobe.com/experienceedge/v2/${e}?datastreamId=${o}&requestId=${encodeURIComponent(n)}`,{method:"POST",credentials:"omit",keepalive:!0,headers:{"Content-Type":"text/plain"},body:i});return t.ok?{success:!0}:_(t.status.toString(),"HttpError",`${e} endpoint failed: ${t.status} ${t.statusText}`)}catch(t){return _("-1001","NetworkError",`${e} endpoint failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function E(e,t){const n=I(),o=await x("collect",e,t,n);return o.success?o:await x("interact",e,t,n)}async function D(){const e=new Date,t=e.getTime(),o=w(),i=n(),r="Signed In"===o._adobe_corpnew.user.authenticationStatus;if(!("false"===localStorage.getItem(F)&&!0===r))try{const e=localStorage.getItem(R);if(e){const n=t-new Date(e).getTime();if(n<60*V*60*1e3)return}}catch(e){}try{localStorage.setItem(R,e.toISOString()),localStorage.setItem(F,r.toString())}catch(e){}const a=await E(o,i).catch((e=>({success:!1,error:{code:"-1",type:"Fetch API Error",description:e.message}})));a.success,await S(o,i,a)}function A(){function e(){clearTimeout(n),window.removeEventListener("scroll",t),C()}function t(){(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100>j&&e()}const n=setTimeout((()=>{document.visibilityState&&"hidden"===document.visibilityState||e()}),$);T(e,"triggerMau"),T(t,"scrollHandler");document.documentElement.scrollHeight>1.5*window.innerHeight&&window.addEventListener("scroll",t)}function C(){function e(){n||(n=!0,clearTimeout(o),window.removeEventListener("beforeunload",t),window.removeEventListener("pagehide",t),D())}function t(){e()}let n=!1;const o=setTimeout((()=>{e()}),H);N().then((()=>{e()})).catch((()=>{e()})),T(e,"sendMau"),T(t,"unloadHandler"),window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t)}var P=Object.defineProperty,T=(e,t)=>P(e,"name",{value:t,configurable:!0});T(e,"removeSensitiveDetails"),T(t,"getUserAgentClientHints"),T(n,"generateUUID"),T(o,"generateFallbackUUID"),T(i,"parseUuid"),T(r,"generateEcidFromUuid"),T(a,"getOrCreateEcid");var k={};t().then((e=>{k=e})).catch((()=>{})),T(s,"getOperatingSystemInfo");var W={"firefly.adobe.com":"Firefly Web","photoshop.adobe.com":"Ps Web","lightroom.adobe.com":"Lr Web","express.adobe.com":"Adobe Express","new.express.adobe.com":"Adobe Express","acrobat.adobe.com":"Acrobat Web","illustrator.adobe.com":"Illustrator Web","behance.net":"Behance Web","www.behance.net":"Behance Web","portfolio.adobe.com":"Portfolio Web","stock.adobe.com":"Stock Web","fonts.adobe.com":"Fonts","podcast.adobe.com":"Podcast Web (studio)","coldfusion.adobe.com":"Coldfusion","contentauthenticity.adobe.com":"Content Authenticity Website","projectneo.adobe.com":"Project Neo (Beta) Web","xd.adobe.com":"Adobe XD","adobesign.adobe.com":"Adobe Sign","echosign.adobe.com":"Adobe Sign","firefly-stage.corp.adobe.com":"Firefly Web (Stage)","stage.photoshop.adobe.com":"Ps Web (Stage)","stage.adobelr.com":"Lr Web (Stage)","projectx.corp.adobe.com":"Adobe Express (Stage)","stage.acrobat.adobe.com":"Acrobat Web (Stage)","stage-main.illustrator.adobe.com":"Illustrator Web (Stage)","net.s2stagehance.com":"Behance Web (Stage)","portfolio.ccpsx.com":"Portfolio Web (Stage)","primary.stock.stage.adobe.com":"Stock Web (Stage)","podcast.stage.adobe.com":"Podcast Web (studio) (Stage)","fonts-relstage.adobe.com":"Fonts (Stage)"};T(c,"getAdobeProductName"),T(d,"getAEPConsent");var O,U=void 0,M="number"==typeof globalThis.__TEST_ASYNC_TIMEOUT__?globalThis.__TEST_ASYNC_TIMEOUT__:14e3;T(l,"getIms"),T(u,"waitForWindowProperty"),T(m,"initializeAlloyIdentity"),T(g,"initializeAdobeIMS"),T(p,"initializeAlloyData"),T(b,"createPayload");var L=null;T(f,"init"),T(w,"getPayload");var N=T((()=>L||Promise.resolve()),"imsInitialized");T(h,"getDunamisConfig"),T(v,"hasAnalyticsConsent"),T(y,"generateDunamisPayload"),T(S,"sendDunamis"),T(I,"getDatastreamId"),T(_,"createError"),T(x,"sendToEndpoint"),T(E,"sendEvent"),f();var V=23.5,j=50,$=5e3,H=16e3,R="adobe.dgp.mau.lastDispatchTime",F="adobe.dgp.mau.loginStatus";T(D,"dispatchMau"),T(A,"initialize"),T(C,"startRace"),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",A):A()})();